# Danish News Bot - –£–ª—É—á—à–µ–Ω–∏—è –∏ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

## üöÄ –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `internal/logger` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSON –ª–æ–≥–æ–≤
- –†–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARN, ERROR)
- –í–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DEBUG=true`

### 2. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- –ü–∞–∫–µ—Ç `internal/config` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

### 3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
- –ü–∞–∫–µ—Ç `internal/cache` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Gemini API
- TTL = 24 —á–∞—Å–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π
- –°—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ API-–∑–∞–ø—Ä–æ—Å–æ–≤

### 4. **Retry-–ª–æ–≥–∏–∫–∞ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
- –ü–∞–∫–µ—Ç `internal/retry` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
- Exponential backoff –¥–ª—è API-–∑–∞–ø—Ä–æ—Å–æ–≤
- –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Graceful handling –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏

### 5. **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –ü–∞–∫–µ—Ç `internal/metrics` –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
  - –£—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
  - –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  - –í—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - –°—Ç–∞—Ç—É—Å–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

### 6. **HTTP –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π HTTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- Endpoints:
  - `/health` - —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
  - `/metrics` - –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –í–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `ENABLE_HTTP_MONITORING=true`

### 7. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**
- –¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:
  1. –ü–æ —Å—Å—ã–ª–∫–µ (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
  2. –ü–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é (—Ö—ç—à –∑–∞–≥–æ–ª–æ–≤–∫–∞ + –æ–ø–∏—Å–∞–Ω–∏—è)
  3. –ü–æ —Å—Ö–æ–∂–µ—Å—Ç–∏ (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–±—â–∏—Ö –¥–∞—Ç—Å–∫–∏—Ö —Å–ª–æ–≤ –¥–ª—è –ª—É—á—à–µ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

## üõ† –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
TELEGRAM_TOKEN=your_token
TELEGRAM_CHAT_ID=your_chat_id
GEMINI_API_KEY=your_api_key

# –ù–æ–≤—ã–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
DEBUG=true                          # –í–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
BOT_MODE=single|multiple           # –†–µ–∂–∏–º –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: multiple)
MAX_NEWS_LIMIT=8                   # –ú–∞–∫—Å–∏–º—É–º –Ω–æ–≤–æ—Å—Ç–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8)
ENABLE_HTTP_MONITORING=true        # –í–∫–ª—é—á–∏—Ç—å HTTP –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
MONITORING_PORT=8080               # –ü–æ—Ä—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8080)
```

## üîß –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Makefile

```bash
make build                         # –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
make run                          # –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
make run-with-monitoring          # –ó–∞–ø—É—Å–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
make debug                        # –ó–∞–ø—É—Å–∫ —Å debug –ª–æ–≥–∞–º–∏
make single                       # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏
make dev                          # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (debug + –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
make health                       # –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
make metrics                      # –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
make test                         # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make lint                         # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make clean                        # –û—á–∏—Å—Ç–∫–∞ –±–∏–ª–¥–æ–≤
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø—É—Å–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
```bash
make dev
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8080/health
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
```bash
curl http://localhost:8080/metrics | jq .
```

### –†–µ–∂–∏–º –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏
```bash
BOT_MODE=single make run
```

### Debug —Ä–µ–∂–∏–º
```bash
DEBUG=true make run
```

## üêõ –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π** - —Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** - HTTP endpoints –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞
3. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å API** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
4. **–°–±–æ–∏ —Å–µ—Ç–∏** - retry-–ª–æ–≥–∏–∫–∞ —Å backoff
5. **–ü–ª–æ—Ö–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
6. **–ñ—ë—Å—Ç–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π config

## üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
- Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
- Prometheus –º–µ—Ç—Ä–∏–∫–∏
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- CI/CD pipeline
- Rate limiting –¥–ª—è API
- –ì–∏–±–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
